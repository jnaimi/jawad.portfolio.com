<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Cybersecurity Dashboard - 2024 & Live Data</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>
    <style>
        body { background-color: #f8f9fa; }
        #dashboard { margin: 20px; }
        .chart-container { width: 100%; height: 400px; }
        .footer { text-align: center; margin-top: 50px; font-size: 14px; }
    </style>
</head>
<body>

<div id="dashboard" class="container">
    <h1 class="text-center my-4">2024 & Live Cybersecurity Dashboard</h1>

    <!-- Real-time Threat Feed -->
    <div class="alert alert-info" role="alert">
        <strong>Real-time Threat Feed:</strong>
        <div id="threat-feed">
            <!-- Threats will be displayed here -->
        </div>
    </div>

    <!-- 2024 Cybersecurity Trends Chart -->
    <div class="chart-container">
        <canvas id="cybersecurityTrends2024Chart"></canvas>
    </div>

    <!-- Live Cybersecurity Data Chart -->
    <div class="chart-container">
        <canvas id="liveCybersecurityTrendsChart"></canvas>
    </div>

    <!-- Cybersecurity Data Table -->
    <div class="table-responsive">
        <h3>Cybersecurity Incident Data (2024 & Live)</h3>
        <table class="table table-bordered" id="incident-table">
            <!-- Data will be dynamically filled here -->
        </table>
    </div>

    <div class="footer">
        <p>Data provided by <a href="https://www.cisa.gov/" target="_blank">CISA</a> & <a href="https://www.nist.gov/cybersecurity" target="_blank">NIST Cybersecurity</a></p>
    </div>
</div>

<script>
    // Mock data for testing purposes
    const mockData2024 = {
        attackTrends: {
            months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            incidents: [100, 120, 150, 130, 160, 180, 200, 210, 220, 230, 250, 270]
        },
        incidents: [
            { type: 'Phishing', date: '2024-01-15', severity: 'High', details: 'Large-scale phishing campaign targeting organizations.' },
            { type: 'Ransomware', date: '2024-02-05', severity: 'Critical', details: 'A ransomware group encrypting critical systems.' },
            // Add more mock incidents as needed
        ]
    };

    const mockDataLive = {
        attackTrends: {
            months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            incidents: [80, 110, 130, 140, 170, 190, 210, 220, 240, 250, 260, 280]
        },
        threats: [
            { title: 'New Exploit Discovered', description: 'A new zero-day exploit is targeting web servers.' },
            { title: 'DDoS Attack on Financial Institutions', description: 'A large-scale DDoS attack targeting banks.' },
            // Add more mock threats as needed
        ],
        incidents: [
            { type: 'DDoS Attack', date: '2025-01-15', severity: 'Medium', details: 'Financial institutions under DDoS attack.' },
            { type: 'Data Breach', date: '2025-01-10', severity: 'High', details: 'Sensitive data stolen from a major corporation.' },
            // Add more mock incidents as needed
        ]
    };

    // Mock function to simulate fetching data
    async function fetchCybersecurityData() {
        try {
            // Use mock data instead of API calls
            const data2024 = mockData2024;
            const dataLive = mockDataLive;

            // Display real-time threat feed (Live threats)
            const threatFeed = document.getElementById('threat-feed');
            threatFeed.innerHTML = '';
            dataLive.threats.forEach(threat => {
                const listItem = document.createElement('div');
                listItem.innerHTML = `<strong>${threat.title}</strong>: ${threat.description}`;
                threatFeed.appendChild(listItem);
            });

            // 2024 Cybersecurity Trends Chart (Line chart)
            const ctx1 = document.getElementById('cybersecurityTrends2024Chart').getContext('2d');
            new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: data2024.attackTrends.months,
                    datasets: [{
                        label: 'Cyber Attack Incidents (2024)',
                        data: data2024.attackTrends.incidents,
                        borderColor: 'rgba(255, 99, 132, 1)',
                        fill: false,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Live Cybersecurity Trends Chart (Bar chart)
            const ctx2 = document.getElementById('liveCybersecurityTrendsChart').getContext('2d');
            new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: dataLive.attackTrends.months,
                    datasets: [{
                        label: 'Cyber Attack Incidents (Live Data)',
                        data: dataLive.attackTrends.incidents,
                        backgroundColor: 'rgba(54, 162, 235, 0.5)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Display Cybersecurity Incident Data in Table
            const table = document.getElementById('incident-table');
            const headers = ['Incident Type', 'Date', 'Severity', 'Details'];
            const tableHeader = document.createElement('thead');
            const headerRow = document.createElement('tr');
            headers.forEach(header => {
                const th = document.createElement('th');
                th.innerText = header;
                headerRow.appendChild(th);
            });
            tableHeader.appendChild(headerRow);
            table.appendChild(tableHeader);

            const tableBody = document.createElement('tbody');
            data2024.incidents.concat(dataLive.incidents).forEach(incident => {
                const row = document.createElement('tr');
                Object.values(incident).forEach(val => {
                    const td = document.createElement('td');
                    td.innerText = val;
                    row.appendChild(td);
                });
                tableBody.appendChild(row);
            });
            table.appendChild(tableBody);
        } catch (error) {
            console.error("Error fetching data:", error);
        }
    }

    // Fetch Data on Page Load
    window.onload = fetchCybersecurityData;
</script>

</body>
</html>
